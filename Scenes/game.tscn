[gd_scene load_steps=20 format=3 uid="uid://c3o22n6bo51hk"]

[ext_resource type="Script" path="res://Scripts/Managers/GameScene.gd" id="1_2jg1a"]
[ext_resource type="PackedScene" uid="uid://ch75cwblkhlni" path="res://Scenes/PlayerCharacter.tscn" id="1_rog66"]
[ext_resource type="PackedScene" uid="uid://diwhygl1ho1la" path="res://Scenes/game_camera.tscn" id="4_sx5sm"]
[ext_resource type="PackedScene" uid="uid://c38gsdfy72awb" path="res://Scenes/Managers/game_manager.tscn" id="5_r45th"]
[ext_resource type="PackedScene" uid="uid://djdb3ocf1uv0i" path="res://Scenes/Gameplay/spawner.tscn" id="8_dreha"]
[ext_resource type="PackedScene" uid="uid://bem23jj1utect" path="res://Scenes/Gameplay/kill_volume.tscn" id="8_u84ky"]
[ext_resource type="PackedScene" uid="uid://bkkbbr0htwc5p" path="res://Scenes/Maps/test_map.tscn" id="10_55lj4"]
[ext_resource type="PackedScene" uid="uid://bnh4h6i2wqw74" path="res://Scenes/Gameplay/big_head.tscn" id="12_67sdl"]
[ext_resource type="PlaneMesh" uid="uid://dqwqxtb75rk7" path="res://Assets/Meshes/Enviro/Background_mesh.tres" id="13_3v2jh"]
[ext_resource type="PackedScene" uid="uid://bs6eigat3lyci" path="res://Scenes/Gameplay/pick_up.tscn" id="13_8m82v"]
[ext_resource type="Material" uid="uid://lfed143fg2ps" path="res://Assets/Materials/Enviro/Background_material.tres" id="14_u3ss6"]
[ext_resource type="PackedScene" uid="uid://8a00sh66ihoa" path="res://Scenes/Enviro.tscn" id="15_2shva"]
[ext_resource type="Script" path="res://Scripts/Audio/audio_spectrum_helper.gd" id="15_7m25h"]
[ext_resource type="PackedScene" uid="uid://c5amqm6jpeons" path="res://Scenes/GUI/master_gui.tscn" id="16_cim6e"]
[ext_resource type="AudioStream" uid="uid://nqx3ft62tmu0" path="res://Assets/Sounds/Musics/teknokiki LOOP LONGUE.mp3" id="17_7gvmf"]
[ext_resource type="PackedScene" uid="uid://m4y8m8c70o62" path="res://Scenes/Gameplay/timer_out_spawners.tscn" id="17_avc87"]
[ext_resource type="PackedScene" uid="uid://ch56ldgqymwtm" path="res://Scenes/Gameplay/poop.tscn" id="18_87cti"]
[ext_resource type="PackedScene" uid="uid://bdvwx0kkjddp" path="res://Scenes/Gameplay/heart.tscn" id="20_slsbe"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_e2grd"]

[node name="Game" type="Node3D"]
script = ExtResource("1_2jg1a")

[node name="GameManager" parent="." instance=ExtResource("5_r45th")]
unique_name_in_owner = true

[node name="Gameplay" type="Node" parent="."]

[node name="Player" parent="Gameplay" instance=ExtResource("1_rog66")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, 0)

[node name="Player2" parent="Gameplay" instance=ExtResource("1_rog66")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0)
playerID = 2
startFacingRight = false

[node name="Sprite2D" parent="Gameplay/Player2" index="3"]
modulate = Color(0, 1, 1, 1)

[node name="GameCamera" parent="Gameplay" node_paths=PackedStringArray("player1", "player2") instance=ExtResource("4_sx5sm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.063, 1.66432, 4.5)
player1 = NodePath("../Player")
player2 = NodePath("../Player2")
cameraClampMin = Vector2(-5, 0)

[node name="BigHead" parent="Gameplay" instance=ExtResource("12_67sdl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.24842, 1.0664, -1.37892)

[node name="AmmoItem" parent="Gameplay" instance=ExtResource("13_8m82v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.66236, 1.25418, 0.113311)

[node name="AmmoItem2" parent="Gameplay" instance=ExtResource("13_8m82v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.2757, 1.25418, 0.113311)

[node name="AmmoItem3" parent="Gameplay" instance=ExtResource("13_8m82v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2662, 2.25418, 0.113311)

[node name="AmmoItem4" parent="Gameplay" instance=ExtResource("13_8m82v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.25, 0)

[node name="AmmoItem5" parent="Gameplay" instance=ExtResource("13_8m82v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.48458, 1.25418, 0.113311)

[node name="AmmoItem6" parent="Gameplay" instance=ExtResource("13_8m82v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.79976, 1.78345, 0.113311)

[node name="KillVolume" parent="Gameplay" instance=ExtResource("8_u84ky")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2, 0)

[node name="Spawner" parent="Gameplay" instance=ExtResource("8_dreha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="Spawner2" parent="Gameplay" instance=ExtResource("8_dreha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 3, 0)

[node name="Spawner3" parent="Gameplay" instance=ExtResource("8_dreha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 3, 0)

[node name="Spawner4" parent="Gameplay" instance=ExtResource("8_dreha")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 2, 0)

[node name="GUI" type="Node" parent="."]

[node name="MasterGUI" parent="GUI" instance=ExtResource("16_cim6e")]

[node name="Enviro" type="Node" parent="."]

[node name="TestMap" parent="Enviro" instance=ExtResource("10_55lj4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.68, -0.484)

[node name="Node3D" parent="Enviro" instance=ExtResource("15_2shva")]
transform = Transform3D(3, 0, 0, 0, 2.30766, -1.91695, 0, 1.91695, 2.30766, 0, -4.34559, -6.257)

[node name="Camera3D" parent="Enviro/Node3D" index="0"]
process_priority = 1

[node name="Plane_16_9" parent="Enviro/Node3D/Camera3D" index="0"]
transform = Transform3D(13.9424, 0, 0, 0, 9.53674e-07, -13.9424, 0, 13.9424, 4.29153e-06, 0, -2.55109, -34.2328)
visible = false

[node name="BackgroundPlane" type="MeshInstance3D" parent="Enviro/Node3D/Camera3D" index="1"]
transform = Transform3D(2.48788, 0, 0, 0, -1.19209e-07, -2.48788, 0, 2.48788, -1.19209e-07, 0, -10.6007, -70.6949)
cast_shadow = 0
gi_mode = 0
mesh = ExtResource("13_3v2jh")
surface_material_override/0 = ExtResource("14_u3ss6")

[node name="AudioStreamHelper" type="Node3D" parent="Enviro/Node3D/Camera3D/BackgroundPlane"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -2.68596, 15.7371, 0.0832739)
script = ExtResource("15_7m25h")
Multiplier = 1.0

[node name="SpotScat" parent="Enviro/Node3D/Lighting" index="0"]
visible = false
light_energy = 60.0
light_volumetric_fog_energy = 20.0
spot_range = 21.5625

[node name="SpotLight3D2" parent="Enviro/Node3D/Lighting" index="1"]
visible = false
light_energy = 150.0
shadow_enabled = true
spot_range = 160.315

[node name="SpotLight3D6" parent="Enviro/Node3D/Lighting" index="2"]
visible = false
light_energy = 150.0
spot_range = 36.2965
spot_angle = 12.9636

[node name="SpotLight3D" parent="Enviro/Node3D/Lighting" index="4"]
visible = false
light_energy = 45.0
spot_range = 56.6485
spot_angle = 50.291

[node name="SpotLight3D3" parent="Enviro/Node3D/Lighting" index="5"]
transform = Transform3D(0.691696, 0.147006, 0.707069, 0.657323, 0.277386, -0.700703, -0.299138, 0.949446, 0.0952352, 0, -5.9291, -4.49585)
visible = false
light_energy = 45.0
spot_range = 80.4352
spot_angle = 38.4962

[node name="SpotLight3D4" parent="Enviro/Node3D/Lighting" index="6"]
transform = Transform3D(0.185412, -0.073883, 0.266973, 0.0912904, 0.319609, 0.0250487, -0.261533, 0.0591833, 0.198013, -4.99869, -2.47093, -5.94517)
visible = false
light_energy = 300.0
spot_range = 45.5801

[node name="SpotLight3D5" parent="Enviro/Node3D/Lighting" index="7"]
visible = false
spot_range = 49.3115

[node name="Robot Pivot" parent="Enviro/Node3D/Meshes/Node3D" index="0"]
transform = Transform3D(0.99866, 0.0387993, 0.0342322, -0.0349867, 0.993782, -0.105696, -0.0381203, 0.104357, 0.993809, 0.0536268, 1.89316, 0)

[node name="City Pivot" parent="Enviro/Node3D/Meshes/R/CityRight" index="0"]
transform = Transform3D(1, 0, 0, 0, -0.718843, -0.695173, 0, 0.695173, -0.718843, 0, -4.34849, 0)

[node name="Mesh_buildingsLoop_03" parent="Enviro/Node3D/Meshes/R/CityRight3/City PivotSlow" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="City Pivot" parent="Enviro/Node3D/Meshes/R2/CityRight" index="0"]
transform = Transform3D(1, 0, 0, 0, -0.718843, -0.695173, 0, 0.695173, -0.718843, 0, -4.34849, 0)

[node name="Mesh_buildingsLoop_03" parent="Enviro/Node3D/Meshes/R2/CityRight3/City PivotSlow" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="SM_Road" parent="Enviro/Node3D/Meshes" index="3"]
transform = Transform3D(1.11943, 0, 0, 0, 1.11943, 0, 0, 0, 1.11943, 0, -4.54701, -2.59207)

[node name="Lighting" type="Node3D" parent="Enviro"]

[node name="BackgroundMesh" type="MeshInstance3D" parent="Enviro/Lighting"]
transform = Transform3D(-0.0794317, 0.0450254, 0.547176, 0.0994026, 0.51173, -0.0236528, -0.41578, 0.11374, -0.110189, -0.182486, -1.39818, -13.1081)
visible = false
material_override = ExtResource("14_u3ss6")
mesh = ExtResource("13_3v2jh")

[node name="SpotLight3D7" type="SpotLight3D" parent="Enviro/Lighting"]
transform = Transform3D(1, 0, 0, 0, 0.888585, 0.458712, 0, -0.458712, 0.888585, 0, 9.1072, 3.70326)
light_energy = 50.0
shadow_enabled = true
spot_range = 15.2065
spot_angle = 47.6542

[node name="SpotBuildingsRight" type="SpotLight3D" parent="Enviro/Lighting"]
transform = Transform3D(-0.0636048, 0.206663, -0.976343, 0.960705, 0.277543, -0.00383842, 0.270184, -0.938222, -0.216195, -5.67032, 4.90765, -29.3489)
light_color = Color(0.510236, 0.861405, 0.761492, 1)
light_energy = 200.0
light_volumetric_fog_energy = 1.087
spot_range = 49.2912
spot_angle = 50.291

[node name="SpotBuildingsLeft" type="SpotLight3D" parent="Enviro/Lighting"]
transform = Transform3D(0.550074, -0.571854, 0.608607, 0.596174, -0.241436, -0.765691, 0.584803, 0.784023, 0.208117, 0, -5.9291, -4.49585)
light_color = Color(0.510236, 0.861405, 0.761492, 1)
light_energy = 200.0
light_volumetric_fog_energy = 1.087
spot_range = 56.6485
spot_angle = 50.291

[node name="SpotScat" type="SpotLight3D" parent="Enviro/Lighting"]
transform = Transform3D(1, 0, 0, 0, 0.469009, -0.883193, 0, 0.883193, 0.469009, 0, -6.92803, -2.7011)
light_color = Color(0.42, 1, 0.777667, 1)
light_energy = 60.0
light_volumetric_fog_energy = 10.0
spot_range = 21.5625
spot_angle = 54.9228

[node name="Poop" parent="Enviro" instance=ExtResource("18_87cti")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.60528, 1.10266, 0)

[node name="Poop2" parent="Enviro" instance=ExtResource("18_87cti")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.21292, 0.873709, 0)

[node name="Poop3" parent="Enviro" instance=ExtResource("18_87cti")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.78708, 0.873709, 0)

[node name="TimerOutSpawners" parent="." instance=ExtResource("17_avc87")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)

[node name="Boundary_Bottom" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.88575, 0)
collision_mask = 15

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundary_Bottom"]
shape = SubResource("WorldBoundaryShape3D_e2grd")

[node name="StageMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("17_7gvmf")
volume_db = -15.0
bus = &"Music"
parameters/looping = false

[node name="Heart" parent="." instance=ExtResource("20_slsbe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.326908, 0)

[editable path="Gameplay/Player2"]
[editable path="Enviro/Node3D"]
